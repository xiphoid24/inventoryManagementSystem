<ui:composition template="../index.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="title">
		Items
    </ui:define>

	<ui:define name="header">
        Items
    </ui:define>

	<ui:define name="toolbar">
		<p:toolbarGroup align="left">
			<p:button outcome="/index" icon="ui-icon-home" value="Home" />
			<p:separator />
			<p:button outcome="add" icon="ui-icon-plus" value="Add" />
		</p:toolbarGroup>
	</ui:define>

	<ui:define name="content">
		<h:form id="form">
			<p:messages id="message" globalOnly="true" autoUpdate="true"
				closable="true" />
			<p:dataTable var="item" value="#{itemBean.lazyModel}"
				resizableColumns="false"
				emptyMessage="Sorry, your search did not produce any matching results"
				lazy="true" paginator="true" rows="10"
				paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} 
	  		{NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
				rowsPerPageTemplate="5, 10, 15, 20, 25, 50"
				selection="#{itemBean.selectedItem}" rowKey="#{item.id}">

				<p:column headerText="Details">
					<center>
						<p:commandLink action="detail?faces-redirect=true" title="Details"
							process="@this">
							<h:outputText value="Details" />
							<f:setPropertyActionListener value="#{item}"
								target="#{itemBean.selectedItem}" />
						</p:commandLink>
					</center>
				</p:column>

				<p:column sortBy="id" filterBy="id" headerText="Id">
					<h:outputText value="#{item.id}" />
				</p:column>

				<p:column sortBy="code" filterBy="code" headerText="Code">
					<h:outputText value="#{item.code}" />
				</p:column>

				<p:column sortBy="category" filterBy="category" headerText="Category">
					<h:outputText value="#{item.category}" />
				</p:column>

				<p:column sortBy="description" filterBy="description" headerText="Description">
					<h:outputText value="#{item.description}" />
				</p:column>

				<p:column sortBy="count" filterBy="count" headerText="Count">
					<h:outputText value="#{item.count}" />
				</p:column>

				<p:column sortBy="location" filterBy="location" headerText="Location">
					<h:outputText value="#{item.location}" />
				</p:column>

				<p:column sortBy="cost" filterBy="cost" headerText="Cost">
					<h:outputText value="#{item.cost}" />
				</p:column>

				<p:column sortBy="price" filterBy="price" headerText="Price">
					<h:outputText value="#{item.price}" />
				</p:column>

			</p:dataTable>
		</h:form>
	</ui:define>
</ui:composition>